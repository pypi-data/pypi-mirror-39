

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>4.6.3.1.2. match_filter.Family &mdash; EQcorrscan 0.3.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/EQcorrscan_logo.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="EQcorrscan 0.3.0 documentation" href="../index.html"/>
        <link rel="up" title="4.6.3. match_filter" href="core.match_filter.html"/>
        <link rel="next" title="4.6.3.1.3. match_filter.Party" href="core.match_filter.Party.html"/>
        <link rel="prev" title="4.6.3.1.1. match_filter.Detection" href="core.match_filter.Detection.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> EQcorrscan
          

          
            
            <img src="../_static/EQcorrscan_logo.jpg" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">1. Introduction to the EQcorrscan package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">2. EQcorrscan installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../updates.html">3. What’s new</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">EQcorrscan tutorials</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../core.html">4. Core</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../core.html#brightness">4.1. Brightness</a></li>
<li class="toctree-l2"><a class="reference internal" href="../core.html#template-generation">4.2. Template generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../core.html#matched-filter">4.3. Matched-Filter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../core.html#lag-calc">4.4. Lag-Calc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../core.html#subspace">4.5. Subspace</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../core.html#api-docs">4.6. API-docs</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="core.bright_lights.html">4.6.1. bright_lights</a></li>
<li class="toctree-l3"><a class="reference internal" href="core.lag_calc.html">4.6.2. lag_calc</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="core.match_filter.html">4.6.3. match_filter</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="core.match_filter.html#classes">4.6.3.1. Classes</a></li>
<li class="toctree-l4"><a class="reference internal" href="core.match_filter.html#functions">4.6.3.2. Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="core.match_filter.html#private-functions">4.6.3.3. Private Functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="core.subspace.html">4.6.4. subspace</a></li>
<li class="toctree-l3"><a class="reference internal" href="core.template_gen.html">4.6.5. template_gen</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../utils.html">5. Utils</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">EQcorrscan</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../core.html">4. Core</a> &raquo;</li>
        
          <li><a href="core.match_filter.html">4.6.3. match_filter</a> &raquo;</li>
        
      <li>4.6.3.1.2. match_filter.Family</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/submodules/core.match_filter.Family.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="match-filter-family">
<h1>4.6.3.1.2. match_filter.Family<a class="headerlink" href="#match-filter-family" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="eqcorrscan.core.match_filter.Family">
<em class="property">class </em><code class="descclassname">eqcorrscan.core.match_filter.</code><code class="descname">Family</code><span class="sig-paren">(</span><em>template</em>, <em>detections=None</em>, <em>catalog=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/eqcorrscan/core/match_filter.html#Family"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#eqcorrscan.core.match_filter.Family" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/2.7/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Container for Detection objects from a single template.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>template</strong> (<a class="reference internal" href="core.match_filter.Template.html#eqcorrscan.core.match_filter.Template" title="eqcorrscan.core.match_filter.Template"><em>eqcorrscan.core.match_filter.Template</em></a>) – The template used to detect the family</li>
<li><strong>detections</strong> (<em>list</em>) – list of Detection objects</li>
<li><strong>catalog</strong> (<a class="reference external" href="https://docs.obspy.org/packages/autogen/obspy.core.event.Catalog.html#obspy.core.event.Catalog" title="(in ObsPy Documentation (1.1.0) v1.1)"><em>obspy.core.event.Catalog</em></a>) – Catalog of detections, with information for the individual detections.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#eqcorrscan.core.match_filter.Family.append" title="eqcorrscan.core.match_filter.Family.append"><code class="xref py py-obj docutils literal notranslate"><span class="pre">append</span></code></a>(other)</td>
<td>Add another family or detection to the family.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#eqcorrscan.core.match_filter.Family.copy" title="eqcorrscan.core.match_filter.Family.copy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">copy</span></code></a>()</td>
<td>Returns a copy of the family.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#eqcorrscan.core.match_filter.Family.lag_calc" title="eqcorrscan.core.match_filter.Family.lag_calc"><code class="xref py py-obj docutils literal notranslate"><span class="pre">lag_calc</span></code></a>(stream,&nbsp;pre_processed[,&nbsp;shift_len,&nbsp;…])</td>
<td>Compute picks based on cross-correlation alignment.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#eqcorrscan.core.match_filter.Family.plot" title="eqcorrscan.core.match_filter.Family.plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot</span></code></a>([plot_grouped])</td>
<td>Plot the cumulative number of detections in time.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#eqcorrscan.core.match_filter.Family.sort" title="eqcorrscan.core.match_filter.Family.sort"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sort</span></code></a>()</td>
<td>Sort by detection time.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#eqcorrscan.core.match_filter.Family.write" title="eqcorrscan.core.match_filter.Family.write"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write</span></code></a>(filename[,&nbsp;format])</td>
<td>Write Family out, select output format.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="eqcorrscan.core.match_filter.Family.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>template</em>, <em>detections=None</em>, <em>catalog=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/eqcorrscan/core/match_filter.html#Family.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#eqcorrscan.core.match_filter.Family.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiation of Family object.</p>
</dd></dl>

<dl class="method">
<dt id="eqcorrscan.core.match_filter.Family.append">
<code class="descname">append</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/eqcorrscan/core/match_filter.html#Family.append"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#eqcorrscan.core.match_filter.Family.append" title="Permalink to this definition">¶</a></dt>
<dd><p>Add another family or detection to the family.</p>
<p class="rubric">Example</p>
<p>Append a family to a family</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">family_a</span> <span class="o">=</span> <span class="n">Family</span><span class="p">(</span><span class="n">template</span><span class="o">=</span><span class="n">Template</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">family_b</span> <span class="o">=</span> <span class="n">Family</span><span class="p">(</span><span class="n">template</span><span class="o">=</span><span class="n">Template</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">family_a</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">family_b</span><span class="p">)</span>
<span class="go">Family of 0 detections from template a</span>
</pre></div>
</div>
<p>Append a detection to the family</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">family_a</span> <span class="o">=</span> <span class="n">Family</span><span class="p">(</span><span class="n">template</span><span class="o">=</span><span class="n">Template</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">detection</span> <span class="o">=</span> <span class="n">Detection</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">template_name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">detect_time</span><span class="o">=</span><span class="n">UTCDateTime</span><span class="p">(),</span> <span class="n">no_chans</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">detect_val</span><span class="o">=</span><span class="mf">2.5</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mf">1.23</span><span class="p">,</span> <span class="n">typeofdet</span><span class="o">=</span><span class="s1">&#39;corr&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">threshold_type</span><span class="o">=</span><span class="s1">&#39;MAD&#39;</span><span class="p">,</span> <span class="n">threshold_input</span><span class="o">=</span><span class="mf">8.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">family_a</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">detection</span><span class="p">)</span>
<span class="go">Family of 1 detections from template a</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="eqcorrscan.core.match_filter.Family.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/eqcorrscan/core/match_filter.html#Family.copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#eqcorrscan.core.match_filter.Family.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of the family.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Copy of family</td>
</tr>
</tbody>
</table>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">family</span> <span class="o">=</span> <span class="n">Family</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">template</span><span class="o">=</span><span class="n">Template</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">),</span> <span class="n">detections</span><span class="o">=</span><span class="p">[</span>
<span class="gp">... </span>    <span class="n">Detection</span><span class="p">(</span><span class="n">template_name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">detect_time</span><span class="o">=</span><span class="n">UTCDateTime</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
<span class="gp">... </span>              <span class="n">no_chans</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">detect_val</span><span class="o">=</span><span class="mf">4.2</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mf">1.2</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">typeofdet</span><span class="o">=</span><span class="s1">&#39;corr&#39;</span><span class="p">,</span> <span class="n">threshold_type</span><span class="o">=</span><span class="s1">&#39;MAD&#39;</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">threshold_input</span><span class="o">=</span><span class="mf">8.0</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">Detection</span><span class="p">(</span><span class="n">template_name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">detect_time</span><span class="o">=</span><span class="n">UTCDateTime</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">10</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">no_chans</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">detect_val</span><span class="o">=</span><span class="mf">4.5</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mf">1.2</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">typeofdet</span><span class="o">=</span><span class="s1">&#39;corr&#39;</span><span class="p">,</span> <span class="n">threshold_type</span><span class="o">=</span><span class="s1">&#39;MAD&#39;</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">threshold_input</span><span class="o">=</span><span class="mf">8.0</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">family</span> <span class="o">==</span> <span class="n">family</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="eqcorrscan.core.match_filter.Family.lag_calc">
<code class="descname">lag_calc</code><span class="sig-paren">(</span><em>stream, pre_processed, shift_len=0.2, min_cc=0.4, horizontal_chans=['E', 'N', '1', '2'], vertical_chans=['Z'], cores=1, interpolate=False, plot=False, parallel=True, debug=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/eqcorrscan/core/match_filter.html#Family.lag_calc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#eqcorrscan.core.match_filter.Family.lag_calc" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute picks based on cross-correlation alignment.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>stream</strong> (<a class="reference external" href="https://docs.obspy.org/packages/autogen/obspy.core.stream.Stream.html#obspy.core.stream.Stream" title="(in ObsPy Documentation (1.1.0) v1.1)"><em>obspy.core.stream.Stream</em></a>) – All the data needed to cut from - can be a gappy Stream.</li>
<li><strong>pre_processed</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – Whether the stream has been pre-processed or not to match the
templates. See note below.</li>
<li><strong>shift_len</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) – Shift length allowed for the pick in seconds, will be
plus/minus this amount - default=0.2</li>
<li><strong>min_cc</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) – Minimum cross-correlation value to be considered a pick,
default=0.4.</li>
<li><strong>horizontal_chans</strong> (<em>list</em>) – List of channel endings for horizontal-channels, on which
S-picks will be made.</li>
<li><strong>vertical_chans</strong> (<em>list</em>) – List of channel endings for vertical-channels, on which P-picks
will be made.</li>
<li><strong>cores</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – Number of cores to use in parallel processing, defaults to one.</li>
<li><strong>interpolate</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – Interpolate the correlation function to achieve sub-sample
precision.</li>
<li><strong>plot</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – To generate a plot for every detection or not, defaults to False</li>
<li><strong>parallel</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) – Turn parallel processing on or off.</li>
<li><strong>debug</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) – Debug output level, 0-5 with 5 being the most output.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Catalog of events with picks.  No origin information is included.
These events can then be written out via
<code class="xref py py-func docutils literal notranslate"><span class="pre">obspy.core.event.Catalog.write()</span></code>, or to Nordic Sfiles using
<code class="xref py py-func docutils literal notranslate"><span class="pre">eqcorrscan.utils.sfile_util.eventtosfile()</span></code> and located
externally.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.obspy.org/packages/autogen/obspy.core.event.Catalog.html#obspy.core.event.Catalog" title="(in ObsPy Documentation (1.1.0) v1.1)">obspy.core.event.Catalog</a></p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note on pre-processing: You can provide a pre-processed stream,
which may be beneficial for detections over large time periods
(the stream can have gaps, which reduces memory usage).  However,
in this case the processing steps are not checked, so you must
ensure that all the template in the Party have the same sampling
rate and filtering as the stream.
If pre-processing has not be done then the data will be processed
according to the parameters in the templates, in this case
templates will be grouped by processing parameters and run with
similarly processed data.  In this case, all templates do not have
to have the same processing parameters.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Picks are corrected for the template pre-pick time.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="eqcorrscan.core.match_filter.Family.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>plot_grouped=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/eqcorrscan/core/match_filter.html#Family.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#eqcorrscan.core.match_filter.Family.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the cumulative number of detections in time.</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">family</span> <span class="o">=</span> <span class="n">Family</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">template</span><span class="o">=</span><span class="n">Template</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">),</span> <span class="n">detections</span><span class="o">=</span><span class="p">[</span>
<span class="gp">... </span>    <span class="n">Detection</span><span class="p">(</span><span class="n">template_name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">detect_time</span><span class="o">=</span><span class="n">UTCDateTime</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">200</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">no_chans</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">detect_val</span><span class="o">=</span><span class="mf">4.2</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mf">1.2</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">typeofdet</span><span class="o">=</span><span class="s1">&#39;corr&#39;</span><span class="p">,</span> <span class="n">threshold_type</span><span class="o">=</span><span class="s1">&#39;MAD&#39;</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">threshold_input</span><span class="o">=</span><span class="mf">8.0</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">Detection</span><span class="p">(</span><span class="n">template_name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">detect_time</span><span class="o">=</span><span class="n">UTCDateTime</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
<span class="gp">... </span>              <span class="n">no_chans</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">detect_val</span><span class="o">=</span><span class="mf">4.5</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mf">1.2</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">typeofdet</span><span class="o">=</span><span class="s1">&#39;corr&#39;</span><span class="p">,</span> <span class="n">threshold_type</span><span class="o">=</span><span class="s1">&#39;MAD&#39;</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">threshold_input</span><span class="o">=</span><span class="mf">8.0</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">Detection</span><span class="p">(</span><span class="n">template_name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">detect_time</span><span class="o">=</span><span class="n">UTCDateTime</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">10</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">no_chans</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">detect_val</span><span class="o">=</span><span class="mf">4.5</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mf">1.2</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">typeofdet</span><span class="o">=</span><span class="s1">&#39;corr&#39;</span><span class="p">,</span> <span class="n">threshold_type</span><span class="o">=</span><span class="s1">&#39;MAD&#39;</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">threshold_input</span><span class="o">=</span><span class="mf">8.0</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">family</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">plot_grouped</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  
</pre></div>
</div>
<p>(<a class="reference external" href="../submodules/core-match_filter-Family-1.py">Source code</a>, <a class="reference external" href="../submodules/core-match_filter-Family-1.png">png</a>, <a class="reference external" href="../submodules/core-match_filter-Family-1.hires.png">hires.png</a>)</p>
<div class="figure">
<img alt="../_images/core-match_filter-Family-1.png" class="img-responsive" src="../_images/core-match_filter-Family-1.png" />
</div>
</dd></dl>

<dl class="method">
<dt id="eqcorrscan.core.match_filter.Family.sort">
<code class="descname">sort</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/eqcorrscan/core/match_filter.html#Family.sort"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#eqcorrscan.core.match_filter.Family.sort" title="Permalink to this definition">¶</a></dt>
<dd><p>Sort by detection time.</p>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">family</span> <span class="o">=</span> <span class="n">Family</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">template</span><span class="o">=</span><span class="n">Template</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">),</span> <span class="n">detections</span><span class="o">=</span><span class="p">[</span>
<span class="gp">... </span>    <span class="n">Detection</span><span class="p">(</span><span class="n">template_name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">detect_time</span><span class="o">=</span><span class="n">UTCDateTime</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">200</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">no_chans</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">detect_val</span><span class="o">=</span><span class="mf">4.2</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mf">1.2</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">typeofdet</span><span class="o">=</span><span class="s1">&#39;corr&#39;</span><span class="p">,</span> <span class="n">threshold_type</span><span class="o">=</span><span class="s1">&#39;MAD&#39;</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">threshold_input</span><span class="o">=</span><span class="mf">8.0</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">Detection</span><span class="p">(</span><span class="n">template_name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">detect_time</span><span class="o">=</span><span class="n">UTCDateTime</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
<span class="gp">... </span>              <span class="n">no_chans</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">detect_val</span><span class="o">=</span><span class="mf">4.5</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mf">1.2</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">typeofdet</span><span class="o">=</span><span class="s1">&#39;corr&#39;</span><span class="p">,</span> <span class="n">threshold_type</span><span class="o">=</span><span class="s1">&#39;MAD&#39;</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">threshold_input</span><span class="o">=</span><span class="mf">8.0</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">Detection</span><span class="p">(</span><span class="n">template_name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">detect_time</span><span class="o">=</span><span class="n">UTCDateTime</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">10</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">no_chans</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">detect_val</span><span class="o">=</span><span class="mf">4.5</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mf">1.2</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">typeofdet</span><span class="o">=</span><span class="s1">&#39;corr&#39;</span><span class="p">,</span> <span class="n">threshold_type</span><span class="o">=</span><span class="s1">&#39;MAD&#39;</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">threshold_input</span><span class="o">=</span><span class="mf">8.0</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">family</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">detect_time</span>
<span class="go">UTCDateTime(1970, 1, 1, 0, 3, 20)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">family</span><span class="o">.</span><span class="n">sort</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">detect_time</span>
<span class="go">UTCDateTime(1970, 1, 1, 0, 0)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="eqcorrscan.core.match_filter.Family.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>filename</em>, <em>format='tar'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/eqcorrscan/core/match_filter.html#Family.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#eqcorrscan.core.match_filter.Family.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write Family out, select output format.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>format</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – One of either ‘tar’, ‘csv’, or any obspy supported
catalog output.</li>
<li><strong>filename</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) – Path to write file to.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">csv format will write out detection objects, all other
outputs will write the catalog.  These cannot be rebuilt into
a Family object.  The only format that can be read back into
Family objects is the ‘tar’ type.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">csv format will append detections to filename, all others
will overwrite any existing files.</p>
</div>
<p class="rubric">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">family</span> <span class="o">=</span> <span class="n">Family</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">template</span><span class="o">=</span><span class="n">Template</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">st</span><span class="o">=</span><span class="n">read</span><span class="p">()),</span> <span class="n">detections</span><span class="o">=</span><span class="p">[</span>
<span class="gp">... </span>    <span class="n">Detection</span><span class="p">(</span><span class="n">template_name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">detect_time</span><span class="o">=</span><span class="n">UTCDateTime</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">200</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">no_chans</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">detect_val</span><span class="o">=</span><span class="mf">4.2</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mf">1.2</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">typeofdet</span><span class="o">=</span><span class="s1">&#39;corr&#39;</span><span class="p">,</span> <span class="n">threshold_type</span><span class="o">=</span><span class="s1">&#39;MAD&#39;</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">threshold_input</span><span class="o">=</span><span class="mf">8.0</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">Detection</span><span class="p">(</span><span class="n">template_name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">detect_time</span><span class="o">=</span><span class="n">UTCDateTime</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
<span class="gp">... </span>              <span class="n">no_chans</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">detect_val</span><span class="o">=</span><span class="mf">4.5</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mf">1.2</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">typeofdet</span><span class="o">=</span><span class="s1">&#39;corr&#39;</span><span class="p">,</span> <span class="n">threshold_type</span><span class="o">=</span><span class="s1">&#39;MAD&#39;</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">threshold_input</span><span class="o">=</span><span class="mf">8.0</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">Detection</span><span class="p">(</span><span class="n">template_name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">detect_time</span><span class="o">=</span><span class="n">UTCDateTime</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">10</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">no_chans</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">detect_val</span><span class="o">=</span><span class="mf">4.5</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mf">1.2</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">typeofdet</span><span class="o">=</span><span class="s1">&#39;corr&#39;</span><span class="p">,</span> <span class="n">threshold_type</span><span class="o">=</span><span class="s1">&#39;MAD&#39;</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">threshold_input</span><span class="o">=</span><span class="mf">8.0</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">family</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;test_family&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="core.match_filter.Party.html" class="btn btn-neutral float-right" title="4.6.3.1.3. match_filter.Party" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="core.match_filter.Detection.html" class="btn btn-neutral" title="4.6.3.1.1. match_filter.Detection" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, 2016: EQcorrscan developers.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.3.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>