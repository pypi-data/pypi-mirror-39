
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>ansible_runner package &#8212; ansible-runner 1.0.4 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="ansible-runner-package">
<h1>ansible_runner package<a class="headerlink" href="#ansible-runner-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="ansible_runner.callbacks.html">ansible_runner.callbacks package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ansible_runner.callbacks.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="ansible_runner.callbacks.html#module-ansible_runner.callbacks.awx_display">ansible_runner.callbacks.awx_display module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ansible_runner.callbacks.html#module-ansible_runner.callbacks.minimal">ansible_runner.callbacks.minimal module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ansible_runner.callbacks.html#module-ansible_runner.callbacks">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ansible_runner.display_callback.html">ansible_runner.display_callback package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ansible_runner.display_callback.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="ansible_runner.display_callback.html#module-ansible_runner.display_callback.cleanup">ansible_runner.display_callback.cleanup module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ansible_runner.display_callback.html#module-ansible_runner.display_callback.display">ansible_runner.display_callback.display module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ansible_runner.display_callback.html#module-ansible_runner.display_callback.events">ansible_runner.display_callback.events module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ansible_runner.display_callback.html#module-ansible_runner.display_callback.minimal">ansible_runner.display_callback.minimal module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ansible_runner.display_callback.html#module-ansible_runner.display_callback.module">ansible_runner.display_callback.module module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ansible_runner.display_callback.html#module-ansible_runner.display_callback">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-ansible_runner.exceptions">
<span id="ansible-runner-exceptions-module"></span><h2>ansible_runner.exceptions module<a class="headerlink" href="#module-ansible_runner.exceptions" title="Permalink to this headline">¶</a></h2>
<dl class="exception">
<dt id="ansible_runner.exceptions.AnsibleRunnerException">
<em class="property">exception </em><code class="descclassname">ansible_runner.exceptions.</code><code class="descname">AnsibleRunnerException</code><a class="reference internal" href="_modules/ansible_runner/exceptions.html#AnsibleRunnerException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible_runner.exceptions.AnsibleRunnerException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
<p>Generic Runner Error</p>
</dd></dl>

<dl class="exception">
<dt id="ansible_runner.exceptions.CallbackError">
<em class="property">exception </em><code class="descclassname">ansible_runner.exceptions.</code><code class="descname">CallbackError</code><a class="reference internal" href="_modules/ansible_runner/exceptions.html#CallbackError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible_runner.exceptions.CallbackError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="source/ansible_runner.html#ansible_runner.exceptions.AnsibleRunnerException" title="ansible_runner.exceptions.AnsibleRunnerException"><code class="xref py py-class docutils literal notranslate"><span class="pre">ansible_runner.exceptions.AnsibleRunnerException</span></code></a></p>
<p>Exception occurred in Callback</p>
</dd></dl>

<dl class="exception">
<dt id="ansible_runner.exceptions.ConfigurationError">
<em class="property">exception </em><code class="descclassname">ansible_runner.exceptions.</code><code class="descname">ConfigurationError</code><a class="reference internal" href="_modules/ansible_runner/exceptions.html#ConfigurationError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible_runner.exceptions.ConfigurationError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="source/ansible_runner.html#ansible_runner.exceptions.AnsibleRunnerException" title="ansible_runner.exceptions.AnsibleRunnerException"><code class="xref py py-class docutils literal notranslate"><span class="pre">ansible_runner.exceptions.AnsibleRunnerException</span></code></a></p>
<p>Misconfiguration of Runner</p>
</dd></dl>

</div>
<div class="section" id="module-ansible_runner.interface">
<span id="ansible-runner-interface-module"></span><h2>ansible_runner.interface module<a class="headerlink" href="#module-ansible_runner.interface" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="ansible_runner.interface.init_runner">
<code class="descclassname">ansible_runner.interface.</code><code class="descname">init_runner</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ansible_runner/interface.html#init_runner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible_runner.interface.init_runner" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the Runner() instance</p>
<p>This function will properly initialize both run() and run_async()
functions in the same way and return a value instance of Runner.</p>
<p>See parameters given to <a class="reference internal" href="source/ansible_runner.html#ansible_runner.interface.run" title="ansible_runner.interface.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">ansible_runner.interface.run()</span></code></a></p>
</dd></dl>

<dl class="function">
<dt id="ansible_runner.interface.run">
<code class="descclassname">ansible_runner.interface.</code><code class="descname">run</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ansible_runner/interface.html#run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible_runner.interface.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run an Ansible Runner task in the foreground and return a Runner object when complete.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>private_data_dir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – The directory containing all runner metadata needed to invoke the runner
module. Output artifacts will also be stored here for later consumption.</li>
<li><strong>ident</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – The run identifier for this invocation of Runner. Will be used to create and name
the artifact directory holding the results of the invocation.</li>
<li><strong>json_mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – Store event data in place of stdout on the console and in the stdout file</li>
<li><strong>playbook</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><em>filename</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) – The playbook (either supplied here as a list or string… or as a path relative to
<code class="docutils literal notranslate"><span class="pre">private_data_dir/project</span></code>) that will be invoked by runner when executing Ansible.</li>
<li><strong>inventory</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) – <dl class="docutils">
<dt>Overridees the inventory directory/file (supplied at <code class="docutils literal notranslate"><span class="pre">private_data_dir/inventory</span></code>) with</dt>
<dd>a specific host or list of hosts. This can take the form of</dd>
</dl>
<ul>
<li>Path to the inventory file in the <code class="docutils literal notranslate"><span class="pre">private_data_dir</span></code></li>
<li>Native python dict supporting the YAML/json inventory structure</li>
<li>A text INI formatted string</li>
</ul>
</li>
<li><strong>envvars</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) – Environment variables to be used when running Ansible. Environment variables will also be
read from <code class="docutils literal notranslate"><span class="pre">env/envvars</span></code> in <code class="docutils literal notranslate"><span class="pre">private_data_dir</span></code></li>
<li><strong>extravars</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) – Extra variables to be passed to Ansible at runtime using <code class="docutils literal notranslate"><span class="pre">-e</span></code>. Extra vars will also be
read from <code class="docutils literal notranslate"><span class="pre">env/extravars</span></code> in <code class="docutils literal notranslate"><span class="pre">private_data_dir</span></code>.</li>
<li><strong>passwords</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) – A dictionary containing password prompt patterns and response values used when processing output from
Ansible. Passwords will also be read from <code class="docutils literal notranslate"><span class="pre">env/passwords</span></code> in <code class="docutils literal notranslate"><span class="pre">private_data_dir</span></code>.</li>
<li><strong>settings</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) – A dictionary containing settings values for the <code class="docutils literal notranslate"><span class="pre">ansible-runner</span></code> runtime environment. These will also
be read from <code class="docutils literal notranslate"><span class="pre">env/settings</span></code> in <code class="docutils literal notranslate"><span class="pre">private_data_dir</span></code>.</li>
<li><strong>ssh_key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – The ssh private key passed to <code class="docutils literal notranslate"><span class="pre">ssh-agent</span></code> as part of the ansible-playbook run.</li>
<li><strong>cmdline</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Commnad line options passed to Ansible read from <code class="docutils literal notranslate"><span class="pre">env/cmdline</span></code> in <code class="docutils literal notranslate"><span class="pre">private_data_dir</span></code></li>
<li><strong>limit</strong> – Matches ansible’s <code class="docutils literal notranslate"><span class="pre">--limit</span></code> parameter to further constrain the inventory to be used</li>
<li><strong>verbosity</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Control how verbose the output of ansible-playbook is</li>
<li><strong>quiet</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – Disable all output</li>
<li><strong>artifact_dir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – The path to the directory where artifacts should live</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A <a class="reference internal" href="source/ansible_runner.html#ansible_runner.runner.Runner" title="ansible_runner.runner.Runner"><code class="xref py py-class docutils literal notranslate"><span class="pre">ansible_runner.runner.Runner</span></code></a> object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ansible_runner.interface.run_async">
<code class="descclassname">ansible_runner.interface.</code><code class="descname">run_async</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ansible_runner/interface.html#run_async"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible_runner.interface.run_async" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs an Ansible Runner task in the background which will start immediately. Returns the thread object and a Runner object.</p>
<p>This uses the same parameters as <a class="reference internal" href="source/ansible_runner.html#ansible_runner.interface.run" title="ansible_runner.interface.run"><code class="xref py py-func docutils literal notranslate"><span class="pre">ansible_runner.interface.run()</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A tuple containing a <a class="reference external" href="https://docs.python.org/3/library/threading.html#threading.Thread" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">threading.Thread</span></code></a> object and a <a class="reference internal" href="source/ansible_runner.html#ansible_runner.runner.Runner" title="ansible_runner.runner.Runner"><code class="xref py py-class docutils literal notranslate"><span class="pre">ansible_runner.runner.Runner</span></code></a> object</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-ansible_runner.loader">
<span id="ansible-runner-loader-module"></span><h2>ansible_runner.loader module<a class="headerlink" href="#module-ansible_runner.loader" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ansible_runner.loader.ArtifactLoader">
<em class="property">class </em><code class="descclassname">ansible_runner.loader.</code><code class="descname">ArtifactLoader</code><span class="sig-paren">(</span><em>base_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ansible_runner/loader.html#ArtifactLoader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible_runner.loader.ArtifactLoader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Handles loading and caching file contents from disk</p>
<p>This class will load the file contents and attempt to deserialize the
contents as either JSON or YAML.  If the file contents cannot be
deserialized, the contents will be returned to the caller as a string.</p>
<p>The deserialized file contents are stored as a cached object in the
instance to avoid any additional reads from disk for subsequent calls
to load the same file.</p>
<dl class="method">
<dt id="ansible_runner.loader.ArtifactLoader.abspath">
<code class="descname">abspath</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ansible_runner/loader.html#ArtifactLoader.abspath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible_runner.loader.ArtifactLoader.abspath" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform the path to an absolute path</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>path (string): The path to transform to an absolute path</dd>
<dt>Returns:</dt>
<dd>string: The absolute path to the file</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ansible_runner.loader.ArtifactLoader.get_contents">
<code class="descname">get_contents</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ansible_runner/loader.html#ArtifactLoader.get_contents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible_runner.loader.ArtifactLoader.get_contents" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the contents of the file specified by path</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>path (string): The relative or absolute path to the file to</dt>
<dd>be loaded.  If the path is relative, then it is combined
with the base_path to generate a full path string</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>string: The contents of the file as a string</dd>
<dt>Raises:</dt>
<dd>ConfigurationError: If the file cannot be loaded</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ansible_runner.loader.ArtifactLoader.isfile">
<code class="descname">isfile</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ansible_runner/loader.html#ArtifactLoader.isfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible_runner.loader.ArtifactLoader.isfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the path is a file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Params path:</th><td class="field-body">The path to the file to check.  If the path is relative
it will be exanded to an absolute path</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">boolean</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ansible_runner.loader.ArtifactLoader.load_file">
<code class="descname">load_file</code><span class="sig-paren">(</span><em>path</em>, <em>objtype=None</em>, <em>encoding='utf-8'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ansible_runner/loader.html#ArtifactLoader.load_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible_runner.loader.ArtifactLoader.load_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the file specified by path</p>
<p>This method will first try to load the file contents from cache and
if there is a cache miss, it will load the contents from disk</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><p class="first">path (string): The full or relative path to the file to be loaded</p>
<p>encoding (string): The file contents text encoding</p>
<dl class="last docutils">
<dt>objtype (object): The object type of the file contents.  This</dt>
<dd>is used to type check the deserialized content against the
contents loaded from disk.
Ignore serializing if objtype is string_types</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd><dl class="first last docutils">
<dt>object: The deserialized file contents which could be either a</dt>
<dd>string object or a dict object</dd>
</dl>
</dd>
<dt>Raises:</dt>
<dd>ConfigurationError:</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ansible_runner.runner">
<span id="ansible-runner-runner-module"></span><h2>ansible_runner.runner module<a class="headerlink" href="#module-ansible_runner.runner" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ansible_runner.runner.Runner">
<em class="property">class </em><code class="descclassname">ansible_runner.runner.</code><code class="descname">Runner</code><span class="sig-paren">(</span><em>config</em>, <em>cancel_callback=None</em>, <em>remove_partials=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ansible_runner/runner.html#Runner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible_runner.runner.Runner" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="method">
<dt id="ansible_runner.runner.Runner.event_callback">
<code class="descname">event_callback</code><span class="sig-paren">(</span><em>event_data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ansible_runner/runner.html#Runner.event_callback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible_runner.runner.Runner.event_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Invoked for every Ansible event to collect stdout with the event data and store it for
later use</p>
</dd></dl>

<dl class="attribute">
<dt id="ansible_runner.runner.Runner.events">
<code class="descname">events</code><a class="headerlink" href="#ansible_runner.runner.Runner.events" title="Permalink to this definition">¶</a></dt>
<dd><p>A generator that will return all ansible job events in the order that they were emitted from Ansible</p>
<p>Example:</p>
<blockquote>
<div><blockquote>
<div><dl class="docutils">
<dt>{</dt>
<dd><p class="first">“event”:”runner_on_ok”,
“uuid”:”00a50d9c-161a-4b74-b978-9f60becaf209”,
“stdout”:”ok: [localhost] =&gt; {rn    ”   msg”:”Test!”rn}”,
“counter”:6,
“pid”:740,
“created”:”2018-04-05T18:24:36.096725”,
“end_line”:10,
“start_line”:7,
“event_data”:{</p>
<blockquote>
<div><p>“play_pattern”:”all”,
“play”:”all”,
“task”:”debug”,
“task_args”:”msg=Test!”,
“remote_addr”:”localhost”,
“res”:{</p>
<blockquote>
<div>“msg”:”Test!”,
“changed”:false,
“_ansible_verbose_always”:true,
“_ansible_no_log”:false</div></blockquote>
<p>},
“pid”:740,
“play_uuid”:”0242ac11-0002-443b-cdb1-000000000006”,
“task_uuid”:”0242ac11-0002-443b-cdb1-000000000008”,
“event_loop”:null,
“playbook_uuid”:”634edeee-3228-4c17-a1b4-f010fdd42eb2”,
“playbook”:”test.yml”,
“task_action”:”debug”,
“host”:”localhost”,
“task_path”:”/tmp/demo/project/test.yml:3”</p>
</div></blockquote>
<p class="last">}</p>
</dd>
</dl>
</div></blockquote>
<p>}</p>
</div></blockquote>
</dd></dl>

<dl class="classmethod">
<dt id="ansible_runner.runner.Runner.handle_termination">
<em class="property">classmethod </em><code class="descname">handle_termination</code><span class="sig-paren">(</span><em>pid</em>, <em>args</em>, <em>proot_cmd</em>, <em>is_cancel=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ansible_runner/runner.html#Runner.handle_termination"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible_runner.runner.Runner.handle_termination" title="Permalink to this definition">¶</a></dt>
<dd><p>Internal method to terminate a subprocess spawned by <cite>pexpect</cite> representing an invocation of runner.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pid</strong> – the process id of the running the job.</li>
<li><strong>args</strong> – the args for the job, i.e., [‘ansible-playbook’, ‘abc.yml’]</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>:param proot_cmd  the command used to isolate processes i.e., <cite>bwrap</cite>
:param is_cancel: flag showing whether this termination is caused by</p>
<blockquote>
<div>instance’s cancel_flag.</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="ansible_runner.runner.Runner.host_events">
<code class="descname">host_events</code><span class="sig-paren">(</span><em>host</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ansible_runner/runner.html#Runner.host_events"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible_runner.runner.Runner.host_events" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a host name, this will return all task events executed on that host</p>
</dd></dl>

<dl class="method">
<dt id="ansible_runner.runner.Runner.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ansible_runner/runner.html#Runner.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible_runner.runner.Runner.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Launch the Ansible task configured in self.config (A RunnerConfig object), returns once the
invocation is complete</p>
</dd></dl>

<dl class="attribute">
<dt id="ansible_runner.runner.Runner.stats">
<code class="descname">stats</code><a class="headerlink" href="#ansible_runner.runner.Runner.stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the final high level stats from the Ansible run</p>
<dl class="docutils">
<dt>Example:</dt>
<dd>{‘dark’: {}, ‘failures’: {}, ‘skipped’: {}, ‘ok’: {u’localhost’: 2}, ‘processed’: {u’localhost’: 1}}</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="ansible_runner.runner.Runner.stdout">
<code class="descname">stdout</code><a class="headerlink" href="#ansible_runner.runner.Runner.stdout" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an open file handle to the stdout representing the Ansible run</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ansible_runner.runner_config">
<span id="ansible-runner-runner-config-module"></span><h2>ansible_runner.runner_config module<a class="headerlink" href="#module-ansible_runner.runner_config" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ansible_runner.runner_config.RunnerConfig">
<em class="property">class </em><code class="descclassname">ansible_runner.runner_config.</code><code class="descname">RunnerConfig</code><span class="sig-paren">(</span><em>private_data_dir=None</em>, <em>playbook=None</em>, <em>ident=UUID('3604aa3a-4b39-4a39-9868-807ea999a41a')</em>, <em>inventory=None</em>, <em>limit=None</em>, <em>module=None</em>, <em>module_args=None</em>, <em>verbosity=None</em>, <em>quiet=False</em>, <em>json_mode=False</em>, <em>artifact_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ansible_runner/runner_config.html#RunnerConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible_runner.runner_config.RunnerConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A <code class="docutils literal notranslate"><span class="pre">Runner</span></code> configuration object that’s meant to encapsulate the configuration used by the
<a class="reference internal" href="source/ansible_runner.html#ansible_runner.runner.Runner" title="ansible_runner.runner.Runner"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ansible_runner.runner.Runner</span></code></a> object to launch and manage the invocation of <code class="docutils literal notranslate"><span class="pre">ansible</span></code>
and <code class="docutils literal notranslate"><span class="pre">ansible-playbook</span></code></p>
<p>Typically this object is initialized for you when using the standard <code class="docutils literal notranslate"><span class="pre">run</span></code> interfaces in <a class="reference internal" href="source/ansible_runner.html#module-ansible_runner.interface" title="ansible_runner.interface"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ansible_runner.interface</span></code></a>
but can be used to construct the <code class="docutils literal notranslate"><span class="pre">Runner</span></code> configuration to be invoked elsewhere. It can also be overridden to provide different
functionality to the Runner object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rc</span> <span class="o">=</span> <span class="n">RunnerConfig</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">Runner</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">rc</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<dl class="method">
<dt id="ansible_runner.runner_config.RunnerConfig.args2cmdline">
<code class="descname">args2cmdline</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ansible_runner/runner_config.html#RunnerConfig.args2cmdline"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible_runner.runner_config.RunnerConfig.args2cmdline" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ansible_runner.runner_config.RunnerConfig.generate_ansible_command">
<code class="descname">generate_ansible_command</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ansible_runner/runner_config.html#RunnerConfig.generate_ansible_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible_runner.runner_config.RunnerConfig.generate_ansible_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Given that the <code class="docutils literal notranslate"><span class="pre">RunnerConfig</span></code> preparation methods have been run to gather the inputs this method
will generate the <code class="docutils literal notranslate"><span class="pre">ansible</span></code> or <code class="docutils literal notranslate"><span class="pre">ansible-playbook</span></code> command that will be used by the
<a class="reference internal" href="source/ansible_runner.html#ansible_runner.runner.Runner" title="ansible_runner.runner.Runner"><code class="xref py py-class docutils literal notranslate"><span class="pre">ansible_runner.runner.Runner</span></code></a> object to start the process</p>
</dd></dl>

<dl class="method">
<dt id="ansible_runner.runner_config.RunnerConfig.open_fifo_write">
<code class="descname">open_fifo_write</code><span class="sig-paren">(</span><em>path</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ansible_runner/runner_config.html#RunnerConfig.open_fifo_write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible_runner.runner_config.RunnerConfig.open_fifo_write" title="Permalink to this definition">¶</a></dt>
<dd><p>open_fifo_write opens the fifo named pipe in a new thread.
This blocks the thread until an external process (such as ssh-agent)
reads data from the pipe.</p>
</dd></dl>

<dl class="method">
<dt id="ansible_runner.runner_config.RunnerConfig.prepare">
<code class="descname">prepare</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ansible_runner/runner_config.html#RunnerConfig.prepare"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible_runner.runner_config.RunnerConfig.prepare" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs basic checks and then properly invokes</p>
<ul class="simple">
<li>prepare_inventory</li>
<li>prepare_env</li>
<li>prepare_command</li>
</ul>
<p>It’s also responsible for wrapping the command with the proper ssh agent invocation
and setting early <a href="#id1"><span class="problematic" id="id2">ANSIBLE_</span></a> environment variables.</p>
</dd></dl>

<dl class="method">
<dt id="ansible_runner.runner_config.RunnerConfig.prepare_command">
<code class="descname">prepare_command</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ansible_runner/runner_config.html#RunnerConfig.prepare_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible_runner.runner_config.RunnerConfig.prepare_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines if the literal <code class="docutils literal notranslate"><span class="pre">ansible</span></code> or <code class="docutils literal notranslate"><span class="pre">ansible-playbook</span></code> commands are given
and if not calls <a class="reference internal" href="source/ansible_runner.html#ansible_runner.runner_config.RunnerConfig.generate_ansible_command" title="ansible_runner.runner_config.RunnerConfig.generate_ansible_command"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ansible_runner.runner_config.RunnerConfig.generate_ansible_command()</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="ansible_runner.runner_config.RunnerConfig.prepare_env">
<code class="descname">prepare_env</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ansible_runner/runner_config.html#RunnerConfig.prepare_env"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible_runner.runner_config.RunnerConfig.prepare_env" title="Permalink to this definition">¶</a></dt>
<dd><p>Manages reading environment metadata files under <code class="docutils literal notranslate"><span class="pre">private_data_dir</span></code> and merging/updating
with existing values so the <a class="reference internal" href="source/ansible_runner.html#ansible_runner.runner.Runner" title="ansible_runner.runner.Runner"><code class="xref py py-class docutils literal notranslate"><span class="pre">ansible_runner.runner.Runner</span></code></a> object can read and use them easily</p>
</dd></dl>

<dl class="method">
<dt id="ansible_runner.runner_config.RunnerConfig.prepare_inventory">
<code class="descname">prepare_inventory</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ansible_runner/runner_config.html#RunnerConfig.prepare_inventory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible_runner.runner_config.RunnerConfig.prepare_inventory" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepares the inventory default under <code class="docutils literal notranslate"><span class="pre">private_data_dir</span></code> if it’s not overridden by the constructor.</p>
</dd></dl>

<dl class="method">
<dt id="ansible_runner.runner_config.RunnerConfig.wrap_args_with_ssh_agent">
<code class="descname">wrap_args_with_ssh_agent</code><span class="sig-paren">(</span><em>args</em>, <em>ssh_key_path</em>, <em>ssh_auth_sock=None</em>, <em>silence_ssh_add=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ansible_runner/runner_config.html#RunnerConfig.wrap_args_with_ssh_agent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible_runner.runner_config.RunnerConfig.wrap_args_with_ssh_agent" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an existing command line and parameterization this will return the same command line wrapped with the
necessary calls to <code class="docutils literal notranslate"><span class="pre">ssh-agent</span></code></p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ansible_runner.utils">
<span id="ansible-runner-utils-module"></span><h2>ansible_runner.utils module<a class="headerlink" href="#module-ansible_runner.utils" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ansible_runner.utils.OutputEventFilter">
<em class="property">class </em><code class="descclassname">ansible_runner.utils.</code><code class="descname">OutputEventFilter</code><span class="sig-paren">(</span><em>handle</em>, <em>event_callback</em>, <em>suppress_ansible_output=False</em>, <em>output_json=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ansible_runner/utils.html#OutputEventFilter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible_runner.utils.OutputEventFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>File-like object that looks for encoded job events in stdout data.</p>
<dl class="attribute">
<dt id="ansible_runner.utils.OutputEventFilter.EVENT_DATA_RE">
<code class="descname">EVENT_DATA_RE</code><em class="property"> = re.compile('\\x1b\\[K((?:[A-Za-z0-9+/=]+\\x1b\\[\\d+D)+)\\x1b\\[K')</em><a class="headerlink" href="#ansible_runner.utils.OutputEventFilter.EVENT_DATA_RE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ansible_runner.utils.OutputEventFilter.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ansible_runner/utils.html#OutputEventFilter.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible_runner.utils.OutputEventFilter.close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ansible_runner.utils.OutputEventFilter.flush">
<code class="descname">flush</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ansible_runner/utils.html#OutputEventFilter.flush"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible_runner.utils.OutputEventFilter.flush" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ansible_runner.utils.OutputEventFilter.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ansible_runner/utils.html#OutputEventFilter.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible_runner.utils.OutputEventFilter.write" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="ansible_runner.utils.dump_artifact">
<code class="descclassname">ansible_runner.utils.</code><code class="descname">dump_artifact</code><span class="sig-paren">(</span><em>obj</em>, <em>path</em>, <em>filename=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ansible_runner/utils.html#dump_artifact"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible_runner.utils.dump_artifact" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the artifact to disk at the specified path</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first docutils">
<dt>obj (string): The string object to be dumped to disk in the specified</dt>
<dd>path.  The artifact filename will be automatically created</dd>
</dl>
<p>path (string): The full path to the artifacts data directory.</p>
<dl class="last docutils">
<dt>filename (string, optional): The name of file to write the artifact to.</dt>
<dd>If the filename is not provided, then one will be generated.</dd>
</dl>
</dd>
<dt>Returns:</dt>
<dd>string: The full path filename for the artifact that was generated</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ansible_runner.utils.dump_artifacts">
<code class="descclassname">ansible_runner.utils.</code><code class="descname">dump_artifacts</code><span class="sig-paren">(</span><em>kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ansible_runner/utils.html#dump_artifacts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible_runner.utils.dump_artifacts" title="Permalink to this definition">¶</a></dt>
<dd><p>Introspect the kwargs and dump objects to disk</p>
</dd></dl>

<dl class="function">
<dt id="ansible_runner.utils.isinventory">
<code class="descclassname">ansible_runner.utils.</code><code class="descname">isinventory</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ansible_runner/utils.html#isinventory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible_runner.utils.isinventory" title="Permalink to this definition">¶</a></dt>
<dd><p>Inspects the object and returns if it is an inventory</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>obj (object): The object to be inspected by this function</dd>
<dt>Returns:</dt>
<dd>boolean: True if the object is an inventory dict and False if it is not</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ansible_runner.utils.isplaybook">
<code class="descclassname">ansible_runner.utils.</code><code class="descname">isplaybook</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ansible_runner/utils.html#isplaybook"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ansible_runner.utils.isplaybook" title="Permalink to this definition">¶</a></dt>
<dd><p>Inspects the object and returns if it is a playbook</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>obj (object): The object to be inspected by this function</dd>
<dt>Returns:</dt>
<dd>boolean: True if the object is a list and False if it is not</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-ansible_runner">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-ansible_runner" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">ansible_runner package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-ansible_runner.exceptions">ansible_runner.exceptions module</a></li>
<li><a class="reference internal" href="#module-ansible_runner.interface">ansible_runner.interface module</a></li>
<li><a class="reference internal" href="#module-ansible_runner.loader">ansible_runner.loader module</a></li>
<li><a class="reference internal" href="#module-ansible_runner.runner">ansible_runner.runner module</a></li>
<li><a class="reference internal" href="#module-ansible_runner.runner_config">ansible_runner.runner_config module</a></li>
<li><a class="reference internal" href="#module-ansible_runner.utils">ansible_runner.utils module</a></li>
<li><a class="reference internal" href="#module-ansible_runner">Module contents</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/ansible_runner.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Red Hat Ansible.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/ansible_runner.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>