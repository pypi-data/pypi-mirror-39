{% extends 'electionnight/base.html' %}
{% load tz %}
{% load humanize %}
{% load dictKeyLookup %}

{% block title %}
<title>{{ state|title }} Special Election Results {{year}}: Live {{ election.division.code|ordinal }} District Updates</title>
{% endblock %}

{% block page-meta %}
<!-- Site URL -->
<meta property="og:url" content="https://www.politico.com/election-results/{{year}}/{{state}}/special-election/{{month}}-{{day}}" />
<link rel="canonical" href="https://www.politico.com/election-results/{{year}}/{{state}}/special-election/{{month}}-{{day}}" />
<!-- Project title -->
<meta property="twitter:title" content="{{ state|title }} Special Election Results {{year}}: Live {{ election.division.code|ordinal }} District Updates" />
<meta property="og:title" content="{{ state|title }} Special Election Results {{year}}: Live {{ election.division.code|ordinal }} District Updates" />
<!-- Project description -->
<meta property="twitter:description" content="Get real-time {{year}} {{ election.division|title }} special election results. POLITICO's coverage of the {{year}} midterm races for Senate, House & state governors." />
<meta property="og:description" content="Get real-time {{year}} {{ election.division|title }} special election results. POLITICO's coverage of the {{year}} midterm races for Senate, House & state governors." />
<meta name="description" content="Get real-time {{year}} {{ election.division|title }} special election results. POLITICO's coverage of the {{year}} midterm races for Senate, House & state governors." />
{% endblock %}

<!-- Share image -->
{% block meta-image %}
<meta property="twitter:image" content="https://www.politico.com/election-results/cdn/img/2018/share/{{division.code_components.postal|lower}}/share.jpg" />
<meta property="twitter:image:alt" content="POLITICO {{ election.division|title }} Special Election Results." />
<meta property="og:image" content="https://www.politico.com/election-results/cdn/img/2018/share/{{division.code_components.postal|lower}}/share.jpg" />
<meta property="og:image:type" content="image/jpeg" />
<meta property="og:image:width" content="1160" />
<meta property="og:image:height" content="629" />
{% endblock %}

{% block google-meta %}
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "LiveBlogPosting",
    "url": "https://www.politico.com/election-results/{{year}}/{{state}}/special-election/{{month}}-{{day}}",
    "headline": "{{ state|title }} Special Election Results {{year}}: Live {{ election.division.code|ordinal }} District Updates",
    "description": "Get real-time {{year}} {{ election.division|title }} special election results. POLITICO's coverage of the {{year}} midterm races for Senate, House & state governors.",
    "coverageStartTime": "{{ election_date }}T00:00:00+04:00",
    "coverageEndTime": "{{ coverage_end }}+04:00",
    "liveBlogUpdate": [
      {
        "@type": "BlogPosting",
        "author": {
          "@type": "Organization",
          "@id": "https://www.politico.com",
          "name": "POLITICO Staff"
        },
        "url": "https://www.politico.com/election-results/{{year}}/{{state}}/special-election/{{month}}-{{day}}",
        "datePublished": "{{ election_date }}T00:00:00+04:00",
        "dateModified": "{{ now }}",
        "headline": "{{ state|title }} Special Election Results {{year}}: Live {{ election.division.code|ordinal }} District Updates",
        "articleBody": "{% dictKeyLookup content.page 'before-results' %}",
        "publisher": {
          "@type": "Organization",
          "name": "POLITICO",
          "logo": {
            "@type": "ImageObject",
            "url": "https://static.politico.com/6d/9f/1e153a1748fa9ea656c575dc6dff/politico-logo-60px-tall-1.png"
          }
        },
        "image": [
          "https://www.politico.com/election-results/cdn/img/2018/share/{{division.code_components.postal|lower}}/share.jpg"
         ]
      }
    ],
    "image": [
      "https://www.politico.com/election-results/cdn/img/2018/share/{{division.code_components.postal|lower}}/share.jpg"
     ],
   "publisher": {
      "@type": "Organization",
      "name": "POLITICO",
      "logo": {
        "@type": "ImageObject",
        "url": "https://static.politico.com/6d/9f/1e153a1748fa9ea656c575dc6dff/politico-logo-60px-tall-1.png"
      }
    }
  }
</script>
{% endblock %}


{% block api %}
<script>
  window.appConfig = {
    api: {
      results: '{{ paths.results }}',
      context: '{{ paths.context }}?format=json',
      timestamp: '{{ paths.timestamp }}',
      geoCounty: '{{ paths.geo_county }}',
      geoDistrict: '{{ paths.geo_district }}',
    },
    stateFips: '{{ division.code }}',
    statePostal: '{{ division.code_components.postal }}',
    stateSlug: '{{ division.slug }}',
    electionSlug: '{{ election_date }}',
    nav: {{ nav_json|safe }},
  };
</script>
{% endblock %}

{% block content %}
<header class="center">
  <div class="share">
     <a href="" class="bt-icon custom-icon--facebook" target="_blank">
       <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14" fill="white" viewBox="0 0 15 15">
         <path d="M9.229 15.988h-3.305v-7.989h-1.652v-2.754h1.652v-1.653c0-2.246 0.932-3.582 3.581-3.582h2.206v2.754h-1.378c-1.031 0-1.1 0.385-1.1 1.103l-0.004 1.378h2.498l-0.292 2.754h-2.206v7.989z"></path>
       </svg>
     </a>
     <a href="" class="bt-icon bt-icon--twitter" target="_blank"></a>
     <a class="bt-icon bt-icon--mail" target="_blank"></a>
    <h1>{{ year }} {{ state|title }} Special Election Results</h1>
    <p class="time"><span class="live">LIVE</span> <span class="results">results</span> last updated <span class="timestamp"><time datetime='{{now|timezone:"America/New_York"|date:"c"}}'>{{ now|timezone:"America/New_York"|date:"N j, Y P" }} EDT</time>
</header>

<div id="special-app" class="app">
  <section class="election-results">
    {% if governor_elections %}
    <section class="results-list">
      <header>
        <h3>Governor</h3>
      </header>
      <section class="results-group">
        <div class="container">
          <div class="row clearfix">
            {% for election in governor_elections %}
            {% if election.votes_table %}
            {% include 'electionnight/results-table.html' %}
            {% endif %}
            {% endfor %}
          </div>
        </div>
      </section>
    </section>
    {% endif %}

    {% if senate_elections %}
    <section class="results-list">
      <header>
        <h3>U.S. Senate</h3>
      </header>
      <section class="results-group">
        <div class="container">
          <div class="row clearfix">
            {% for election in senate_elections %}
            {% if election.votes_table %}
            {% include 'electionnight/results-table.html' %}
            {% endif %}
            {% endfor %}
          </div>
        </div>
      </section>
    </section>
    {% endif %}

    {% if house_elections %}
    <section class="results-list">
      {% for district, elections in house_elections.items %}
      <section class="results-group">
        <header>
          <h4 class="district">{{ district }}</h4>
        </header>
        <div class="container">
          <div class="row clearfix">
            {% for election in elections %}
            {% if election.votes_table %}
            {% include 'electionnight/specials/table.html' %}
            {% endif %}
            {% endfor %}
          </div>
        </div>
      </section>
      {% endfor %}
    </section>
    {% endif %}
  </section>
</div>
{%endblock%}

{% block relative_foot %}
<script type="text/javascript" src="{{ paths.js }}"></script>
{% endblock %}

{% block footer_links %}
<section class="elex-footer">
  <h4>2018 Elections</h4>
  <ul>
    {% for state in nav.states%}
      <li>
        <a href="{{state.link}}">{{state.name}}</a>
      </li>
    {% endfor %}
  </ul>
  <div class="clear"></div>
</section>
{% endblock %}

{% block utag %}
<script type="text/javascript">
var utag_data = {
  "page_level_1":"interactives",
  "free_paid_content":"free",
  "ad_unit_section":"2018-election",
  "site_section":"elections",
  "page_type":"election results",
  "site_domain":"www.politico.com",
  "internal_site_id":"politico",
  "page_name":"2018 Election:Results:Special Election:Main:State:{{division.label}}",
  "content_author":"Tyler Fisher|Sarah Frostenson|Jeremy C.F. Lin|Jon McClure|Lily Mihalik ",
  "content_byline":"By Tyler Fisher, Sarah Frostenson, Jeremy C.F. Lin, Jon McClure and Lily Mihalik ",
};
</script>
{% endblock %}
