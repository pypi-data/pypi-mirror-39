#!/usr/bin/env python
import argparse
import vgscli

if __name__ == '__main__':
    parser = argparse.ArgumentParser(add_help=False, description='VGS Client')
    parser.add_argument('--tenant', help='Your VGS Vault\'s Tenant Identifier. E.g. tnt123abc')
    parser.add_argument('--environment', help='sandbox|live|dev', default='sandbox')
    parser.add_argument('--debug', default=False, action='store_true', dest="debug", help='debug flag')

    subparsers = parser.add_subparsers(help='sub-command help', dest='subparser_name')
    subparsers.add_parser('authenticate', help='Establish an authenticated session')
    subparsers.add_parser('logout', help='Remove an authenticated session')
    subparsers.add_parser('version', help='Show current installed version')

    route_parser = subparsers.add_parser('route', help='command_a help')
    route_parser.add_argument('--dump-all', default=False,
                              action='store_true', help='Dump all routes to a file or stdout')
    route_parser.add_argument('--sync-all', default=False,
                              action='store_true', help='Sync all routes from a file or stdin')
    route_parser.add_argument('--create-all', default=False,
                              action='store_true', help='Create all routes from a file or stdin')

    vgscli.main(parser.parse_args())
