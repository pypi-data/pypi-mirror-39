

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Overview &mdash; mosaik 2.5.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="mosaik 2.5.1 documentation" href="index.html"/>
        <link rel="next" title="Modular Design" href="ecosystem/index.html"/>
        <link rel="prev" title="Installation" href="installation.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>
</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> mosaik
          

          
          </a>

          
            
            
              <div class="version">
                2.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#what-s-mosaik-supposed-to-do">What&#8217;s mosaik supposed to do?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#a-simple-example">A simple example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#mosaik-s-main-components">Mosaik&#8217;s main components</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ecosystem/index.html">Modular Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="mosaik-api/index.html">The mosaik API</a></li>
<li class="toctree-l1"><a class="reference internal" href="scenario-definition.html">Scenario definition</a></li>
<li class="toctree-l1"><a class="reference internal" href="simmanager.html">The simulator manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="scheduler.html">Scheduling and simulation execution</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev/index.html">Developer&#8217;s Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_reference/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="about/index.html">About mosaik</a></li>
<li class="toctree-l1"><a class="reference internal" href="privacy.html">Privacy Policies</a></li>
<li class="toctree-l1"><a class="reference internal" href="legals.html">Legals</a></li>
<li class="toctree-l1"><a class="reference internal" href="datenschutz.html">Datenschutz</a></li>
<li class="toctree-l1"><a class="reference internal" href="impressum.html">Impressum</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">mosaik</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Overview</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="_sources/overview.txt" rel="nofollow"> View page source</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="overview">
<h1>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h1>
<p>This section describes how mosaik works without going into too much detail.
After reading this, you should have a general understanding of what mosaik does
and how to proceed in order to implement the mosaik API or to create
a <a class="reference internal" href="glossary.html#term-scenario"><span class="xref std std-term">simulation scenario</span></a>.</p>
<div class="section" id="what-s-mosaik-supposed-to-do">
<h2>What&#8217;s mosaik supposed to do?<a class="headerlink" href="#what-s-mosaik-supposed-to-do" title="Permalink to this headline">¶</a></h2>
<p>Mosaik&#8217;s main goal is to use existing <a class="reference internal" href="glossary.html#term-simulator"><span class="xref std std-term">simulators</span></a> in
a common context in order to perform a coordinated simulation of a given (Smart
Grid) scenario.</p>
<p>That means that all simulators (or other tools and hardware-in-the-loop)
involved in a simulation usually run in their own process with their own event
loop. Mosaik just tries to synchronize these processes and manages the exchange
of data between them.</p>
<p>To allow this, mosaik</p>
<ol class="arabic simple">
<li>provides an API for simulators to communicate with mosaik,</li>
<li>implements handlers for different kinds of simulator processes,</li>
<li>allows the modelling of simulation scenarios involving the different
simulators, and</li>
<li>schedules the step-wise execution of the different simulators and manages
the exchange of data (<a class="reference internal" href="glossary.html#term-data-flow"><span class="xref std std-term">data-flows</span></a>) between them.</li>
</ol>
<p>Although mosaik is written in Python 3, its simulator API completely language
agnostic. It doesn&#8217;t matter if your simulator is written in Python 2, Java,
C, matlab or anything else.</p>
<div class="section" id="a-simple-example">
<h3>A simple example<a class="headerlink" href="#a-simple-example" title="Permalink to this headline">¶</a></h3>
<a class="reference internal image-reference" href="_images/mosaik-slide.svg"><div align="center" class="align-center"><img alt="mosaik" src="_images/mosaik-slide.svg" width="100%" /></div>
</a>
<p>We have simulators for households (blue icon) and for photovoltaics (green).
We&#8217;re also gonna use a load flow analysis tool (grey), and a monitoring and
analysis tool (yellow).</p>
<p>First, we have to implement the mosaik API for each of these &#8220;simulators&#8221;. When
we are done with this, we can create a scenario where we connect the households
to nodes in the power grid. Some of the households will also get a PV module.
The monitoring / analysis tool will be connected to the power grid&#8217;s
transformer node. When we connect all these <a class="reference internal" href="glossary.html#term-entity"><span class="xref std std-term">entities</span></a>, we also
tell mosaik about the data-flows between them (e.g., active power feed-in from
the PV modules to a grid node).</p>
<p>When we finally start the simulation, mosaik requests the simulators to perform
simulation steps and exchanges data between them according to the data-flows
described in the scenario. For our simple example, that would roughly look like
this:</p>
<ol class="arabic simple">
<li>The household and PV simulator perform a simulation step for an interval
<em>[0, t[</em>.</li>
<li>Mosaik gets the values for, e.g., <em>P</em> and <em>Q</em> (active and reactive power)
for every household and every PV module.</li>
<li>Mosaik sets the values <em>P</em> and <em>Q</em> for every node of the power grid based on
the data it collected in step 2. The load flow simulator performs
a simulation step for <em>[0, t[</em> based on these inputs.</li>
<li>Mosaik collects data from the load flow simulator, sends it to the
monitoring tool and lets it also perform a simulation step for <em>[0, t[</em>.</li>
<li>Now the whole process is repeated for <em>[t, t+i[</em> and so forth until the
simulation ends.</li>
</ol>
<p>In this example, all simulators had the same step size <em>t</em>, but this is not
necessary. Every simulator can have its one step size (which may even vary
during the simulation). It is also possible that a simulator (e.g., a control
strategy) can set input values (e.g., a schedule) to another simulator (e.g.,
for &#8220;intelligent&#8221; consumers).</p>
</div>
</div>
<div class="section" id="mosaik-s-main-components">
<h2>Mosaik&#8217;s main components<a class="headerlink" href="#mosaik-s-main-components" title="Permalink to this headline">¶</a></h2>
<p>Mosaik consists of four main components that implement the different aspects of
a co-simulation framework:</p>
<ol class="arabic">
<li><p class="first">The <strong>mosaik Sim API</strong> defines the communication protocol between
<a class="reference internal" href="glossary.html#term-simulator"><span class="xref std std-term">simulators</span></a> and mosaik.</p>
<p>Mosaik uses plain network sockets and JSON encoded messages to communicate
with the simulators. We call this the <em>low-level API</em>. For some programming
languages there also exists a <em>high-level API</em> that implements everything
networking related and offers an abstract base class. You then only have to
write a subclass and implement a few methods.</p>
<p><a class="reference internal" href="mosaik-api/index.html"><span class="doc">Read more …</span></a></p>
</li>
<li><p class="first">The <strong>Scenario API</strong> provides a simple API that allows you to create
your simulation scenarios in pure <a class="reference external" href="https://python.org">Python</a> (yes, no
graphical modelling!).</p>
<p>The scenario API allows you to start simulators and instantiate models from
them. This will give you <em>entity sets</em> (sets of <a class="reference internal" href="glossary.html#term-entity"><span class="xref std std-term">entities</span></a>).
You can then connect the entities with each other in order to establish
<a class="reference internal" href="glossary.html#term-data-flow"><span class="xref std std-term">data-flows</span></a> between the simulators.</p>
<p>Mosaik allows you both, connecting one entity at a time as well as
connecting whole entity sets with each other.</p>
<p><a class="reference internal" href="scenario-definition.html"><span class="doc">Read more …</span></a></p>
</li>
<li><p class="first">The <strong>Simulator Manager</strong> (or shorter, <strong>SimManager</strong>) is responsible for
handling the simulator processes and communicating with them.</p>
<p>It is able to <em>a)</em> start new simulator processes, <em>b)</em> connect to already
running process instances, and <em>c)</em> import a simulator module and execute
it <em>in-process</em> if it&#8217;s written in Python 3.</p>
<p>The in-process execution has some benefits: it reduces the amount of memory
required (because less processes need to be started) and it avoids the
overhead of (de)serializing and sending messages over the network.</p>
<p>External processes, however, can be executed in parallel which is not
possible with in-process simulators.</p>
<p><a class="reference internal" href="simmanager.html"><span class="doc">Read more …</span></a></p>
</li>
<li><p class="first">Mosaik&#8217;s <strong>simulator</strong> uses the event-discrete simulation library <a class="reference external" href="https://simpy.readthedocs.org">SimPy</a> for the coordinated simulation of
a scenario.</p>
<p>Mosaik is able to handle simulators with different step sizes. A simulator
may even vary its step size during the simulation.</p>
<p>Mosaik is able to track the dependencies between the simulators and only
lets them perform a simulation step if necessary (e.g., because its data is
needed by another simulator). It is also able to let multiple simulators
perform their simulation step in parallel if they don&#8217;t depend on each
other&#8217;s data.</p>
<p><a class="reference internal" href="scheduler.html"><span class="doc">Read more …</span></a></p>
</li>
</ol>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="ecosystem/index.html" class="btn btn-neutral float-right" title="Modular Design" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="installation.html" class="btn btn-neutral" title="Installation" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2012-2018 OFFIS.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'2.5.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   
  <!-- Piwik Image Tracker-->
  <img src="https://mosaik.offis.de/analytics/piwik.php?idsite=4&rec=1" style="border:0" alt="" />
  <!-- End Piwik -->
</body>
</html>