{"version":3,"sources":["webpack:///./js/components/interface/save/SaveControl.js"],"names":["define","require","React","GEPPETTO","$","widget","bridge","ui","tooltip","saveControlComp","createClass","attachTooltip","self","uitooltip","position","my","at","tooltipClass","show","effect","direction","delay","hide","content","state","tooltipLabel","getInitialState","disableSave","icon","componentDidMount","on","Events","Project_persisted","setState","mouseover","queue","mouseout","dequeue","bind","Project_loaded","evaluateState","window","Project","undefined","persisted","UserController","hasPermission","Resources","WRITE_PROJECT","clickEvent","CommandController","execute","trigger","render"],"mappings":"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","file":"48.bundle.js","sourcesContent":["define(function(require) {\n\n    var React = require('react');\n    var GEPPETTO = require('geppetto');\n\n    $.widget.bridge('uitooltip', $.ui.tooltip);\n\n    var saveControlComp = React.createClass({\n         attachTooltip: function(){\n        \t var self = this;\n             $('.SaveButton').uitooltip({\n                 position: { my: \"right center\", at : \"left-25 center\"},\n                 tooltipClass: \"tooltip-persist\",\n                 show: {\n                     effect: \"slide\",\n                     direction: \"right\",\n                     delay: 200\n                 },\n                 hide: {\n                     effect: \"slide\",\n                     direction: \"right\",\n                     delay: 200\n                 },\n                 content: function () {\n                     return self.state.tooltipLabel;\n                 },\n             });\n         },\n\n    \tgetInitialState: function() {\n            return {\n            \tdisableSave : true,\n            \ttooltipLabel : \"Click here to persist this project!\",\n            \ticon: \"fa fa-star\"\n            };\n        },\n\n        componentDidMount: function() {\n\n            var self = this;\n\n            GEPPETTO.on(GEPPETTO.Events.Project_persisted, function(){\n            \tself.setState({disableSave: false});\n            \t// update contents of what's displayed on tooltip\n           \t \t$('.SaveButton').uitooltip({content: \"The project was persisted and added to your dashboard!\",\n           \t \t\tposition: { my: \"right center\", at : \"left center\"}});\n            \t$(\".SaveButton\").mouseover().delay(2000).queue(function(){$(this).mouseout().dequeue();});\n            \tself.setState({disableSave: true});\n            });\n\n            GEPPETTO.on('spin_persist', function() {\n    \t\t\tself.setState({icon:\"fa fa-star fa-spin\"});\n    \t\t}.bind($(\".saveButton\")));\n\n    \t\tGEPPETTO.on('stop_spin_persist', function() {\n    \t\t\tself.setState({icon:\"fa fa-star\"});\n    \t\t}.bind($(\".saveButton\")));\n\n\n        \tself.attachTooltip();\n\n\t\t\tGEPPETTO.on(GEPPETTO.Events.Project_loaded, function(){\n\t\t\t\tself.setState(self.evaluateState());\n\t\t\t});\n\n\t\t\tif(window.Project!=undefined){\n\t\t\t\tthis.setState(this.evaluateState());\n\t\t\t}\n        },\n\n        evaluateState:function(){\n        \treturn {disableSave:window.Project.persisted || !GEPPETTO.UserController.hasPermission(GEPPETTO.Resources.WRITE_PROJECT)};\n        },\n\n        clickEvent : function(){\n        \tvar self = this;\n        \t// update contents of what's displayed on tooltip\n       \t \t$('.SaveButton').uitooltip({content: \"The project is getting persisted...\"});\n        \t$(\".SaveButton\").mouseover().delay(2000).queue(function(){$(this).mouseout().dequeue();});\n        \tself.setState({disableSave: true});\n            GEPPETTO.CommandController.execute(\"Project.persist();\");\n        \tGEPPETTO.trigger(\"spin_persist\");\n        },\n\n        render:  function () {\n        \treturn (\n        \t\t\t<div className=\"saveButton\">\n        \t\t\t\t<button className=\"btn SaveButton pull-right\" type=\"button\" title=''\n        \t\t\t\trel=\"tooltip\" onClick={this.clickEvent} disabled={this.state.disableSave}>\n        \t\t\t\t\t<i className={this.state.icon}></i>\n        \t\t\t\t</button>\n        \t\t\t</div>\n        \t);\n        }\n    });\n\n    return saveControlComp;\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./js/components/interface/save/SaveControl.js"],"sourceRoot":""}