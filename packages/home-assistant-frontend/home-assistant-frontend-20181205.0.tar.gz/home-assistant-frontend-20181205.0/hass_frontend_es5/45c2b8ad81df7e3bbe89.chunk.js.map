{"version":3,"file":"45c2b8ad81df7e3bbe89.chunk.js","sources":["webpack:///45c2b8ad81df7e3bbe89.chunk.js"],"sourcesContent":["(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{246:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",function(){return getGroupEntities});function getGroupEntities(entities,group){var result={};group.attributes.entity_id.forEach(function(entityId){var entity=entities[entityId];if(entity){result[entity.entity_id]=entity}});return result}},273:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",function(){return splitByGroups});var _compute_domain__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(155);function splitByGroups(entities){var groups=[],ungrouped={};Object.keys(entities).forEach(function(entityId){var entity=entities[entityId];if(\"group\"===Object(_compute_domain__WEBPACK_IMPORTED_MODULE_0__.a)(entityId)){groups.push(entity)}else{ungrouped[entityId]=entity}});groups.forEach(function(group){return group.attributes.entity_id.forEach(function(entityId){delete ungrouped[entityId]})});return{groups:groups,ungrouped:ungrouped}}},274:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",function(){return extractViews});var _const__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(153);function extractViews(entities){var views=[];Object.keys(entities).forEach(function(entityId){var entity=entities[entityId];if(entity.attributes.view){views.push(entity)}});views.sort(function(view1,view2){if(view1.entity_id===_const__WEBPACK_IMPORTED_MODULE_0__.b){return-1}if(view2.entity_id===_const__WEBPACK_IMPORTED_MODULE_0__.b){return 1}return view1.attributes.order-view2.attributes.order});return views}},275:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",function(){return getViewEntities});var _compute_domain__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(155),_get_group_entities__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(246);function getViewEntities(entities,view){var viewEntities={};view.attributes.entity_id.forEach(function(entityId){var entity=entities[entityId];if(entity&&!entity.attributes.hidden){viewEntities[entity.entity_id]=entity;if(\"group\"===Object(_compute_domain__WEBPACK_IMPORTED_MODULE_0__.a)(entity.entity_id)){var groupEntities=Object(_get_group_entities__WEBPACK_IMPORTED_MODULE_1__.a)(entities,entity);Object.keys(groupEntities).forEach(function(grEntityId){var grEntity=groupEntities[grEntityId];if(!grEntity.attributes.hidden){viewEntities[grEntityId]=grEntity}})}}});return viewEntities}},727:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,\"generateLovelaceConfig\",function(){return generateLovelaceConfig});var _common_entity_extract_views__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(274),_common_entity_get_view_entities__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(275),_common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(104),_common_entity_split_by_groups__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(273),_common_entity_compute_object_id__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(115),_common_entity_compute_state_domain__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(151),_common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(155);function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}function _iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=!0){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=!0;_e=err}finally{try{if(!_n&&null!=_i[\"return\"])_i[\"return\"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}var DOMAINS_BADGES=[\"binary_sensor\",\"device_tracker\",\"mailbox\",\"sensor\",\"sun\",\"timer\"],HIDE_DOMAIN=new Set([\"persistent_notification\",\"configurator\"]),computeCards=function(title,states){var cards=[],entities=[],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=states[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var _step$value=_slicedToArray(_step.value,1),_entityId=_step$value[0],_domain=Object(_common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_6__.a)(_entityId);if(\"alarm_control_panel\"===_domain){cards.push({type:\"alarm-panel\",entity:_entityId})}else if(\"climate\"===_domain){cards.push({type:\"thermostat\",entity:_entityId})}else if(\"media_player\"===_domain){cards.push({type:\"media-control\",entity:_entityId})}else if(\"plant\"===_domain){cards.push({type:\"plant-status\",entity:_entityId})}else if(\"weather\"===_domain){cards.push({type:\"weather-forecast\",entity:_entityId})}else{entities.push(_entityId)}}}catch(err){_didIteratorError=!0;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&null!=_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}if(0<entities.length){cards.unshift({title:title,type:\"entities\",entities:entities})}return cards},computeDefaultViewStates=function(hass){var states={};Object.keys(hass.states).forEach(function(entityId){var stateObj=hass.states[entityId];if(!stateObj.attributes.hidden&&!HIDE_DOMAIN.has(Object(_common_entity_compute_state_domain__WEBPACK_IMPORTED_MODULE_5__.a)(stateObj))){states[entityId]=hass.states[entityId]}});return states},generateViewConfig=function(localize,id,title,icon,entities,groupOrders){var splitted=Object(_common_entity_split_by_groups__WEBPACK_IMPORTED_MODULE_3__.a)(entities);splitted.groups.sort(function(gr1,gr2){return groupOrders[gr1.entity_id]-groupOrders[gr2.entity_id]});var badgeEntities={},ungroupedEntitites={};Object.keys(splitted.ungrouped).forEach(function(entityId){var state=splitted.ungrouped[entityId],domain=Object(_common_entity_compute_state_domain__WEBPACK_IMPORTED_MODULE_5__.a)(state),coll=DOMAINS_BADGES.includes(domain)?badgeEntities:ungroupedEntitites;if(!(domain in coll)){coll[domain]=[]}coll[domain].push(state.entity_id)});var badges=[];DOMAINS_BADGES.forEach(function(domain){if(domain in badgeEntities){badges=badges.concat(badgeEntities[domain])}});var cards=[];splitted.groups.forEach(function(groupEntity){cards=cards.concat(computeCards(Object(_common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_2__.a)(groupEntity),groupEntity.attributes.entity_id.map(function(entityId){return[entityId,entities[entityId]]})))});Object.keys(ungroupedEntitites).sort().forEach(function(domain){cards=cards.concat(computeCards(localize(\"domain.\".concat(domain)),ungroupedEntitites[domain].map(function(entityId){return[entityId,entities[entityId]]})))});return{id:id,title:title,icon:icon,badges:badges,cards:cards}},generateLovelaceConfig=function(hass,localize){var viewEntities=Object(_common_entity_extract_views__WEBPACK_IMPORTED_MODULE_0__.a)(hass.states),views=viewEntities.map(function(viewEntity){var states=Object(_common_entity_get_view_entities__WEBPACK_IMPORTED_MODULE_1__.a)(hass.states,viewEntity),groupOrders={};Object.keys(states).forEach(function(entityId,idx){groupOrders[entityId]=idx});return generateViewConfig(localize,Object(_common_entity_compute_object_id__WEBPACK_IMPORTED_MODULE_4__.a)(viewEntity.entity_id),Object(_common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_2__.a)(viewEntity),viewEntity.attributes.icon,states,groupOrders)}),title=hass.config.location_name;if(0===viewEntities.length||viewEntities[0].entity_id!==\"group.default_view\"){var states=computeDefaultViewStates(hass),groupOrders={};Object.keys(states).forEach(function(entityId){var stateObj=states[entityId];if(stateObj.attributes.order){groupOrders[entityId]=stateObj.attributes.order}});views.unshift(generateViewConfig(localize,\"default_view\",\"Home\",void 0,states,groupOrders));if(1<views.length&&\"Home\"===title){title=\"Home Assistant\"}}return{_frontendAuto:!0,title:title,views:views}}}}]);"],"mappings":"AAAA","sourceRoot":""}